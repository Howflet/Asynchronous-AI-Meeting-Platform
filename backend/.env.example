# ============================================
# AÂ²MP Backend Configuration
# ============================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control


# ============================================
# REQUIRED: Google Gemini API Configuration
# ============================================
# Get your API keys at: https://makersuite.google.com/app/apikey
#
# You can use the same key for both, or separate keys for better quota isolation:
# - GEMINI_API_KEY: Used for persona generation and AI responses
# - GEMINI_MODERATOR_API_KEY: Used for moderator decisions and conclusion checks
#
# Using separate keys doubles your daily request limit (250 + 250 = 500 requests/day)

GEMINI_API_KEY=your-gemini-api-key-here
GEMINI_MODERATOR_API_KEY=your-moderator-api-key-here


# ============================================
# Server Configuration
# ============================================

# Port for backend API server (default: 4000)
PORT=4000

# Frontend origin for CORS (default: http://localhost:5174)
# Change this to your production frontend URL in production
CORS_ORIGIN=http://localhost:5174


# ============================================
# Host Authentication
# ============================================

# Password for host login (default: "password")
# CHANGE THIS IN PRODUCTION!
HOST_PASSWORD=password

# Secret key for JWT token signing (default: "dev-secret-change-me")
# Use a long random string in production (32+ characters)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=dev-secret-change-me


# ============================================
# AI Model Configuration
# ============================================

# Gemini model to use (default: gemini-2.5-flash)
# Options: gemini-2.5-flash, gemini-1.5-pro, gemini-1.5-flash
GEMINI_MODEL=gemini-2.5-flash

# Rate limits for Gemini API (Free tier defaults)
# Requests per minute per key
GEMINI_RPM=10

# Tokens per minute per key
GEMINI_TPM=250000

# Requests per day per key
GEMINI_RPD=250


# ============================================
# Meeting Engine Settings
# ============================================

# How often the engine checks and advances meetings (milliseconds)
# Default: 15000 (15 seconds)
# Lower = faster conversations, but more API usage
# Higher = slower conversations, but more efficient
ENGINE_TICK_MS=15000

# Maximum turns per meeting (development mode)
# Default: 10 for testing, increase for production
# Set to 0 or leave empty for unlimited
MAX_TURNS_PER_MEETING=10


# ============================================
# Email Configuration (Optional)
# ============================================
# If not configured, participant invitations will be logged to console
# instead of being emailed. You can copy the links manually.
#
# For Gmail, use an App Password: https://myaccount.google.com/apppasswords
# For other providers, use your SMTP settings

# SMTP server hostname (e.g., smtp.gmail.com)
SMTP_HOST=

# SMTP server port (usually 587 for TLS, 465 for SSL)
SMTP_PORT=587

# SMTP username (usually your email address)
SMTP_USER=

# SMTP password (use App Password for Gmail)
SMTP_PASS=

# Email address to send from
MAIL_FROM=noreply@yourdomain.com


# ============================================
# Advanced Settings (Optional)
# ============================================

# Base URL for participant links (default: http://localhost:5174)
# Change this to your production URL
BASE_URL=http://localhost:5174

# Enable detailed logging (true/false, default: false)
DEBUG=false

# Database path (default: backend/backend/data/a2mp.db)
# Leave empty to use default
# DATABASE_PATH=


# ============================================
# Development vs Production
# ============================================
# 
# DEVELOPMENT SETUP:
# - Use default values above
# - Single API key is fine
# - HOST_PASSWORD can stay simple
# - Email can be disabled
# - Lower MAX_TURNS_PER_MEETING for testing
#
# PRODUCTION SETUP:
# - Use separate GEMINI keys for quota isolation
# - Strong HOST_PASSWORD (16+ characters)
# - Unique JWT_SECRET (32+ random characters)
# - Configure SMTP for email delivery
# - Update CORS_ORIGIN to your domain
# - Use HTTPS for BASE_URL
# - Increase MAX_TURNS_PER_MEETING or set to 0
# - Enable DEBUG only temporarily
#
# ============================================
